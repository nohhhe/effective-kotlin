아이템 31. 문서로 규약을 정의하라
=========================
함수가 뭘 하는지 명확하게 설명하고 싶다면 KDoc 주석을 붙이는 게 좋다.

```kotlin
/**
 * 이 프로젝트에서 짧은 메시지를 사용자에게 출력할 때 사용하는 기본적인 방식입니다.
 * @param message 사용자에게 보여 줄 메시지
 * @param length 메시지의 길이가 어느 정도 되는지 나타내는 enum 값
 */
fun Context.showMessage(
    message: String,
    duration: MessageLength = MessageLength.LONG
) {
    val toastDuration = when (duration) {
        MessageLength.SHORT -> Toast.LENGTH_SHORT
        MessageLength.LONG -> Toast.LENGTH_LONG
    }
    Toast.makeText(this, message, toastDuration).show()
}

enum class MessageLength { SHORT, LONG }
```

일반적인 문제는 행위가 문서화되지 않고 요소의 이름이 명확하지 않다면 이를 쓰는 사용자는 우리가 만들려고 했던 추상화 목표가 아닌 현재 구현에만 의존하게 된다는 것이다. 이런 문제는 예상되는 행위를 문서로 설명해 해결한다.

### 규약
어떤 행위를 설명하면 사용자는 이를 일종의 약속으로 취급하며 이를 기반으로 스스로 자유롭게 생각하던 예측을 조정한다. 이처럼 예측되는 행위를 요소의 규약(contract of an element)이라고 부른다.
규약이 적절하게 정의돼 있다면 클래스를 만든 사람은 클래스가 내부적으로 어떻게 구현돼 있는지를 걱정하지 않아도 된다. 클래스를 사용하는 사람은 클래스가 내부적으로 어떻게 구현되어 있는지를 걱정하지 않아도 된다.

### 규약 정의하기
* 이름: 일반적인 개념과 관련된 메서드는 이름만으로 동작을 예측할 수 있다.
* 주석과 문서: 필요한 모든 규약을 적을 수 있는 강력한 방법이다.
* 타입: 함수의 선언에 있는 리턴 타입, 아규먼트 타입은 큰 의미가 있다.

### 주석의 써야할까?
주석 없이도 읽을 수 있는 코드를 작성해야 하는 프로그래밍 방식으로 바뀌었다. 하지만 주석을 함께 사용하면 더 많은 내용의 규약을 설명할 수 있다.

### KDoc 형식
주석으로 함수를 문서화할 때 쓰이는 공식적인 형식을 KDoc이라고 부른다. 모든 KDoc 주석은 /**로 시작해서 */로 끝난다.

#### KDoc 구조
* 첫 번째 부분은 요소에 대한 요약 설명이다.
* 두 번째 부분은 상세 설명이다.
* 이어지는 줄은 모두 태그로 시작한다. 이런 태그는 추가적인 설명을 위해 쓰인다.

#### 태그 종류
* @param <name>: 함수 파라미터 또는 클래스, 프로퍼티, 함수 타입 파라미터
* @return: 함수의 리턴 타입 값
* @constructor: 클래스의 기본 생성자
* @receiver: 확장 함수의 리시버
* @property <name>: 이름을 갖고 있는 클래스의 프로퍼티, 기본 생성자에 정의된 프로퍼티에 사용
* @throws <class>, @exception <class>: 메서드 내부에서 발생할 수 있는 예외
* @sample <identifier>: 정규화된 형식 이름을 사용한 함수의 사용 예
* @see <identifier>: 특정한 클래스 또는 메서드에 대한 링크
* @author: 요소의 작성자
* @since: 요소에 대한 버전
* @supress: 이를 지정하면, 만들어지는 문서에서 해당 요소가 제외된다.

### 타입 시스템과 예측
타입 계층(type hierarchy)은 객체와 관련된 중요한 정보다. 인터페이스는 우리가 구현해야 한다고 약속한 메서드 목록 이상의 의미를 갖는다.
클래스가 어떤 동작을 할 것이라 예측되면, 그 서브클래스도 이를 보장해야 한다. 이를 리스코프 치환 원칙이라 부른다.

### 조금씩 달라지는 세부 사항
구현의 세부 사항은 항상 달라질 수 있지만 최대한 많이 보호하는 게 좋다. 일반적으로 캡슐화를 통해 보호한다.

### 정리
요소, 특히 외부 API를 구현할 때는 규악을 잘 정의해야 한다. 이러한 규악은 이름, 문서, 주석, 타입을 통해 구현할 수 있다.
규약은 사용자가 객체를 사용하는 방법을 쉽게 이해하는 등 요소를 쉽게 예측할 수 있게 해준다.