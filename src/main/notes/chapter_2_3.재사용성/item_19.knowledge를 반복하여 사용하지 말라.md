아이템 19. knowledge를 반복하여 사용하지 말라
=========================
이펙티브 코틀린 필자가 생각하는 프로그래밍의 가장 큰 규칙은 "프로젝트에서 이미 있던 코드를 복사해서 붙여넣고 있다면, 무언가가 잘못된 것이다" 이다. (knowledge를 반복하여 사용하지 말라)

### knowledge
프로젝트를 진행할 때 정의한 모든 것이 knowledge이다. 이 종류는 굉장히 다양하다. 알고리즘의 작동 방식, UI 형태, 우리가 원하는 결과 등이 모두 의도적인 정보이며, knowledge이다.

우리 프로그램에서 중요한 knowledge를 크게 두 가지 뽑는다면 다음과 같다.
* 로직: 프로그램이 어떠한 식으로 동작하는 지와 프로그램이 어떻게 보이는지
* 공통 알고리즘: 원하는 동작을 하기 위한 알고리즘

둘의 가장 큰 차이점은 시간에 따른 변화다. 비즈니스 로직은 시간이 지나면서 계속해서 변하지만, 공통 알고리즘은 한 번 정의된 이후에는 크게 변하지 않는다.
물론 공통 알고리즘을 최적화를 하거나 같은 카테고리의 더 빠른 알고리즘으로 바꿀 수도 있지만, 동작은 크게 변하지 않는다.

### 모든 것은 변화한다
우리 프로젝트의 knowledge는 계속해서 변화한다. 변화하는 이유는 다음과 같다.
* 회사가 사용자의 요구 또는 습관을 더 많이 알게 됐다.
* 디자인 표준이 변화했다.
* 플랫폼, 라이브러리, 도구 등이 변화해서 이에 대응해야 한다.

모든 것은 변화하고, 우리는 이에 대비해야 한다. 변화할 때 가장 큰 적은 knowledge가 반복되어 있는 부분이다.

knowledge의 반복은 프로젝트의 확장성(scalable)을 막고, 쉽게 깨지게(fragile) 만든다. 

### 언제 코드를 반복해도 될까?
반대로 추출을 통해 knowledge 반복을 줄이면 안 되는 상황을 살펴보자.

두 코드가 같은 knowledge를 나타내는지, 다른 knowledge를 나타내는지는 "함께 변경될 가능성이 높은가? 따로 변경될 가능성이 높은가?"라는 질문으로 어느 정도 결정할 수 있다.

잘못된 코드 추출로부터 우리를 보호할 수 있는 규칙도 있다. 바로 단일 책임 원칙(Single Responsibility Principle, SRP)이다.

### 단일 책임 원칙
코드를 추출해도 되는지를 확인할 수 있는 원칙으로, SOLID 원칙 중 하나인 단일 책임 원칙이 있다. 단일 책임 원칙이란 "클래스를 변경하는 이유는 단 한가지여야 한다"라는 의미이다.

단일 책임 원칙은 2가지 사실을 알려준다.
* 서로 다른 곳에서 사용하는 knowledge는 독립적으로 변경할 가능성이 많다. 따라서 비슷한 처리를 하더라도 완전히 다른 knowledge로 취급하는 것이 좋습니다.
* 다른 knowledge는 분리해 두는 것이 좋다. 그렇지 않으면 재사용해서는 안 되는 부분을 재사용하려는 유혹이 발생할 수 있다.

#### SOLID 원칙(객체지향 설계 5원칙)
* SRP(Single Responsibility Principle): 단일 책임 원칙 
  * 한 클래스는 하나의 책임만 가져야 한다.
* OCP(Open Closed Priciple): 개방 폐쇄 원칙 
  * 확장에는 열려있고 변경에는 닫혀 있어야 한다.
* LSP(Listov Substitution Priciple): 리스코프 치환 원칙 
  * 서브 타입은 언제나 자신의 기반 타입으로 변경할 수 있어야 한다.
* ISP(Interface Segregation Principle): 인터페이스 분리 원칙 
  * 하나의 일반적인 인터페이스보다 여러 개의 구체적인 인터페이스가 낫다. 상황과 관련 있는 메서드만 제공해라.
* DIP(Dependency Inversion Principle): 의존 역전 원칙 
  * 구체적인 것이 추상화된 것에 의존해야 한다.  자주 변경되는 구체 클래스에 의존하지마라.
* 참고: https://limkydev.tistory.com/77
### 정리
모든 것은 변화한다. 따라서 공통 knowledge가 있다면, 이를 추출해서 이러한 변화에 대비해야 한다. 여러 요소에 비슷한 부분이 있는 경우, 변경이 필요할 때 실수가 발생할 수 있다. 이런 부분은 추출하는 것이 좋다. 추가적으로 의도하지 않은 수정을 피하려면 또는 다른 곳에서 조작하는 부분이 있다면 분리해서 사용하는 것이 좋다.